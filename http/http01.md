# http - 01

> ### 개요
>* http란 Hypertext Transfer Protocol의 줄임말로, WWW(World Wide Web)에서 통신하는데 사용하는 프로토콜 프로그램으로, http를 사용하는 방법에는 여러 가지가 있지만 웹브라우저와 웹 서버 사이에서 쌍방향 통신에 사용하는 것이 대표적이다.
<br><br>
> ### 리소스
>* 웹 서버는 웹 리소스를 관리, 제공한다. 웹 리소스는 웹 콘텐츠의 원천으로 정적 리소스와 동적 리소스가 있다. 
>* http는 웹에서 전송되는 객체 각각에 MIME(Multipurpose Internet Mail Extensions) 타입이라는 데이터 포맷 라벨을 붙인다.
>	+ MIME 타입은 원래 각기 다른 전자메일 시스템 사이에서 메시지가 오갈 때 겪는 문제점을 해결하기 위해 설계된 것 이다.
>	+ 웹 브라우저는 서버로부터 객체를 돌려받을 때, 다룰 수 있는 객체인지 MIME 타입을 통해 확인한다.
> * 웹 서버 리소스는 각자 이름을 가지고 있어서 클라이언트는 특정 리소스를 지목할 수 있다. 서버 리소스 이름은 URI(uniform resource identifer)로 불린다.
>	+ URI는 인터넷의 우편물 주소 같은 것으로 정보 리소스를 고유하게 식별하고 위치를 지정할 수 있다. 
>	+ URI는 두 가지로 URL과 URN이 있다.
>	+ URL(uniform resource locator)은 리소스 식별자의 가장 흔한 형태로 특정 서버의 한 리소스에 대한 구체적인 위치를 서술한다. 즉, 리소스가 정확히 어디있고 어떻게 접근할 수 있는지를 분명히 알려준다.
>	+ URL은 보통 세 부분으로 이루어진 표준 포맷을 가지고 있다.
>		- 첫 번째 부분은 scheme이라고 불리며, 리소스에 접근하기 위한 프로토콜을 서술한다. 보통 HTTP 프로토콜(http://) 이다.
>		- 두 번째 부분은 서버의 인터넷 주소를 제공한다. (예: www.naver.com)
>		- 마지막은 웹 서버의 리소스를 가리킨다. (예: /schedule/identifier)
>	+ URN(uniform resource name)은 콘텐츠를 이루는 한 리소스에 대해, 그 리소스의 위치에 영향 받지 않는 유일한 이름 역할을 한다. 
<br><br>
> ### 트랜잭션
>* HTTP 트랜잭션은 클라이언트에서 서버로 보내는 요청 명령과 서버가 클라이언트에게 돌려주는 응답으로 구성되어 있다. 해당 상호작용은 정형화된 데이터 덩어리인 HTTP 메시지를 통해 이루어진다.
>* HTTP는 HTTP 메서드라고 불리는 요청 명령을 지원한다. 모든 HTTP 요청 메시지는 한 개의 메서드를 갖는다.
>* 메서드는 서버에게 어떤 동작이 실행되야 하는지 말해준다. 주로 사용되는 HTTP 메서드 5개는 다음과 같다.
>	<table> 
      <tr align = center>
        <th>HTTP 메서드</th>
        <th>설명</th>
      </tr>        
      <tr>
        <td>GET</td>
        <td>서버에서 클라이언트로 지정한 리소스를 전송</td>
      </tr>
      <tr>
        <td>PUT</td>
        <td>클라이언트에서 서버로 보낸 데이터를 지정한 이름의 리소스로 저장</td>
      </tr>
      <tr>
        <td>DELETE</td>
        <td>지정한 리소스를 서버에서 삭제</td>
      </tr>
      <tr>
        <td>POST</td>
        <td>클라이언트 데이터를 서버 게이트웨이 애플리케이션으로 전송</td>
      </tr>
      <tr>
        <td>HEAD</td>
        <td>지정한 리소스에 대한 응답에서 HTTP 헤더 부분만 전송</td>
      </tr>
    </table>

>* 모든 HTTP 응답 메시지는 상태 코드와 함께 반환된다. 또한 각 숫자 상태 코드에 텍스트로 된 "사유 구절(reason phrase)"도 함께 보낸다.
>* 웹 애플리케이션은 보통 하나의 작업을 수행하기 위해 여러 HTTP 트랜잭션을 수행한다. 웹페이지는 첨부된 리소스들에 대해 각각 별개의 HTTP 트랜잭션을 필요로 한다.
>* HTTP 메시지는 줄 단위의 문자열이다. web client에서 web server로 보낸 HTTP 메시지를 요청 메시지, server에서 client로 가는 메시지를 응답 메시지라고 부른다. 그 외에 다른 종류의 HTTP 메시지는 없다.
>* HTTP 메시지는 세 부분으로 이루어진다. 
>	+ 첫 번째는 시작줄/상태줄로 요청이라면 시작줄로 HTTP 메서드, request target(요청대상), HTTP 버전으로 이루어지고, 응답이라면 상태줄로 HTTP 버전, 상태코드(일반적으로 200, 404, 302), 정보제공 차원의 상태 코드에 대한 텍스트로 된 짧은 설명으로 이루어진다.
>	+ 두 번째는 헤더 필드로 각 헤더 필드는 : (콜론)으로 구분되어 있는 각 하나의 이름과 값으로 구성된다. 헤더 필드를 추가하려면 한 줄을 더하기만 하면 된다. 
>	+ 마지막은 어떤 종류의 데이터든 들어갈 수 있는 메시지 본문이 필요에 따라 올 수 있다. 요청의 본문은 웹 서버로 데이터를 전송하고, 응답의 본문은 클라이언트로 데이터를 반환한다. 또한 시작줄이나 헤더와 달리 본문은 텍스트 뿐만 아니라 이진 데이터(이미지, 비디오, 오디오, 응용 S/W)를 포함할 수 있다. 
<br><br>
> ### TCP 커넥션
>* HTTP는 응용 계층 프로토콜이다. 네트워크 통신의 핵심적인 세부사항에 대해서 신경 쓰지 않는다. 대신 인터넷 전송 프로토콜인 TCP/IP에게 맡긴다.
>* TCP/IP는 TCP와 IP가 층을 이루는 패킷 교환 네트워크 프로토콜의 집합으로 어떤 종류의 컴퓨터나 네트워크든 서로 의사소통할 수 있게 한다.
>* TCP는 오류 없는 데이터 전송, 순서에 맞는 전달(데이터는 언제나 보낸 순서대로 도착), 조각나지 않는 데이터 스트림(언제든 어떤 크기로든 보낼 수 있음)을 제공한다.
>* HTTP 클라이언트가 서버에 메시지 전송을 할 수 있게되기 전에, IP 주소와 포트번호를 사용해 클라이언트와 서버 사이에 TCP/IP 커넥션을 맺어야 한다.
<br><br>
> ### 웹의 구성요소
>* proxy - client와 server 사이에 위치한 HTTP 중개자
>	+ client와 server 사이에 위치해 client의 모든 HTTP 요청을 받아 서버에 전달한다.(대개 요청을 수정한 뒤에)
>	+ 주로 보안을 위해 사용된다. 모든 웹 트래픽 흐름 속에서 신뢰할 만한 중개자 역할을 한다.
>	+ 요청과 응답을 필터링한다.(바이러스 검출, 성인 콘텐츠 차단 등)
>* cache - 많이 찾는 웹페이지를 client 가까이 보관하는 HTTP 창고
>	+ web cache와 cache proxy는 자신을 거쳐 가는 문서들 중 자주 찾는 것의 사본을 저장해두는 http proxy server.
>	+ 다음 번에 client가 같은 문서를 요청하면 그 캐시가 갖고 있는 사본을 받을 수 있는데, client는 멀리 떨어진 웹 서버보다 근처의 캐시에서 훨씬 더 빨리 문서를 다운 받을 수 있다.
>	+ HTTP는 캐시를 효율적으로 동작하게 하고 캐시된 콘텐츠를 최신 버전으로 유지하며 프라이버시도 보호하기 위한 많은 기능을 정의한다.
>* gateway - 다른 애플리케이션과 연결된 특별한 웹 서버
>	+ 다른 서버들의 중개자로 동작하는 서버로 주로 HTTP 트래픽을 다른 프로토콜로 변환하기 위해 사용된다.
>	+ 예를 들어, HTTP/FTP 게이트웨이는 FTP URI에 대한 HTTP 요청을 받아들인 뒤, FTP 프로토콜을 이용해 문서를 (FTP 서버로부터) 가져온다.
>* tunnel - 단순히 HTTP 통신을 전달하기만 하는 특별한 proxy
>	+ 두 커넥션 사이에서 raw data를 열어보지 않고 그대로 전달해주는 HTTP 애플리케이션.
>	+ 주로 비 HTTP 데이터를 하나 이상의 HTTP 연결을 통해 그대로 전송해주기 위해 사용된다.
>	+ 예를 들어, 암호화된 SSL 트래픽을 HTTP 커넥션으로 전송해 웹 트래픽만 허용하는 사내 방화벽을 통과시키는 것이 있다.
>* user agent - 자동화된 HTTP 요청을 만드는 준지능적 웹 client
>	+ 사용자를 위해 HTTP 요청을 만들어주는 client program. (웹 요청을 만드는 애플리케이션은 뭐든 HTTP user agent)
>	+ 